function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:4,center:{lat:37.9000578,lng:-110.364755},mapTypeId:"roadmap",mapTypeControl:!1,panControl:!1,zoomControl:!1,streetViewControl:!1}),infoWindow=new google.maps.InfoWindow({content:document.getElementById("info-content")});var e=document.getElementById("autocomplete"),n=new google.maps.places.SearchBox(e);map.addListener("bounds_changed",function(){n.setBounds(map.getBounds())}),n.addListener("places_changed",function(){if(clearResults(),clearMarkers(),0!=(places=n.getPlaces()).length){markers.forEach(function(e){e.setMap(null)});var e=new google.maps.LatLngBounds;places.forEach(function(n){if(n.geometry){addResult(n,i);var o={url:n.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};markers.push(new google.maps.Marker({map:map,icon:o,title:n.name,url:n.url,address:n.formatted_address,position:n.geometry.location,animation:google.maps.Animation.DROP})),google.maps.event.addListener(markers[i],"click",showInfoWindow),i++,n.geometry.viewport?e.union(n.geometry.viewport):e.extend(n.geometry.location)}else console.log("Returned place contains no geometry")}),map.fitBounds(e)}})}function showInfoWindow(){var e=this;infoWindow.open(map,e),infoWindowContent(e)}function infoWindowContent(e){document.getElementById("iw-icon").innerHTML='<img class="icon" src="'+e.icon.url+'"/>',document.getElementById("iw-url").innerHTML='<b><a href="'+e.url+'">'+e.title+"</a></b>",document.getElementById("iw-address").textContent=e.address}function addResult(e,n){var o=document.getElementById("results"),t=e.icon,a=document.createElement("tr");a.style.backgroundColor=n%2==0?"#daddf2":"#FFFFFF",a.onclick=function(){google.maps.event.trigger(markers[n],"click")};var r=document.createElement("td"),i=document.createElement("td"),l=document.createElement("img");l.src=t,l.setAttribute("class","placeIcon"),l.setAttribute("className","placeIcon");var s=document.createTextNode(e.name);r.appendChild(l),i.appendChild(s),a.appendChild(r),a.appendChild(i),o.appendChild(a)}function clearResults(){for(var e=document.getElementById("results");e.childNodes[0];)e.removeChild(e.childNodes[0]);i=0}function clearMarkers(){for(var e=0;e<markers.length;e++)markers[e]&&markers[e].setMap(null);markers=[]}var map,places,infoWindow,i=0,markers=[],searchBox;